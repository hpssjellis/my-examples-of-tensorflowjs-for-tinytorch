// --- INT8 VERSION OF THE EXPORTER ---
    async function myExportHeader() {
      if(!myModel) { alert("Start the brain first!"); return; }
      
      let myText = `// INT8 Quantized Model\n`;
      myText += `#ifndef MY_MODEL_H\n#define MY_MODEL_H\n\n`;
      
      const myNames = ["myConv1_w", "myConv1_b", "myOutput_w", "myOutput_b"];
      let myNameIndex = 0;

      for (let i = 0; i < myModel.layers.length; i++) {
          const myWeights = myModel.layers[i].getWeights();
          
          for (let j = 0; j < myWeights.length; j++) {
              let myData = await myWeights[j].data();
              
              // Find the strongest value to calculate a custom scale
              const myMax = Math.max(...Array.from(myData).map(Math.abs));
              const myScale = 127.0 / (myMax || 1); // Avoid divide by zero

              myText += `// Scale: ${myScale.toFixed(6)}\n`;
              myText += `const int8_t ${myNames[myNameIndex]}[] = {\n  `;
              
              // Convert to Int8 using the Scale
              myText += Array.from(myData).map(v => Math.round(v * myScale)).join(', ');
              myText += `\n};\n\n`;
              
              myNameIndex++;
          }
      }
      myText += `#endif`;

      const myLink = document.createElement('a');
      myLink.href = URL.createObjectURL(new Blob([myText]));
      myLink.download = document.getElementById('myExportName').value + ".h";
      myLink.click();
    }
